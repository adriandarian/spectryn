# Spectra Validation Template for Azure Pipelines

parameters:
  - name: markdownFile
    type: string
    displayName: 'Markdown file to validate'

  - name: pythonVersion
    type: string
    default: '3.11'
    displayName: 'Python version'

steps:
  - task: UsePythonVersion@0
    displayName: 'Use Python ${{ parameters.pythonVersion }}'
    inputs:
      versionSpec: '${{ parameters.pythonVersion }}'
      addToPath: true

  - script: |
      python -m pip install --upgrade pip
      pip install spectryn
    displayName: 'Install Spectra'

  - script: |
      echo "✔️ Spectra Validation"
      echo "===================="
      spectryn validate --markdown ${{ parameters.markdownFile }}
      echo "✅ Validation passed!"
    displayName: 'Validate Markdown'
